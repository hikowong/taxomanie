PhyloExplorer
=============

Installation
------------

Loading NCBI taxonomy dump into mysql
http://mindwalker.tistory.com/87

Django
------
wget http://www.djangoproject.com/download/1.0/tarball/
tar xf Django-1.0.tar.gz
cd Django-1.0
sudo python setup.py install

Apache & mod_python
-------------------

Under ubuntu::
sudo apt-get install libapache2-mod-python

Apache configuration
~~~~~~~~~~~~~~~~~~~~~~

Enable Mod_python
^^^^^^^^^^^^^^^^^
To enable mod_python:

----------------------------------
cd /etc/apache2/mods-enabled/
sudo ln -s ../mods-available/mod_python.load mod_python.load
----------------------------------

To enable the parsing of .py scripts:
Code:

----------------------------------
cd /etc/apache2/sites-available/
sudo gedit default
----------------------------------

On line 10 you should have:

----------------------------------
        <Directory /var/www/>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride AuthConfig
                Order allow,deny
                allow from all
                # Uncomment this directive is you want to see apache2's
                # default start page (in /apache2-default) when you go to /
                #RedirectMatch ^/$ /apache2-default/
        </Directory>
----------------------------------

Change it to:

----------------------------------
        <Directory /var/www/>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride AuthConfig
                Order allow,deny
                allow from all

                AddHandler mod_python .py
                PythonHandler mod_python.publisher
                PythonDebug On

                # Uncomment this directive is you want to see apache2's
                # default start page (in /apache2-default) when you go to /
                #RedirectMatch ^/$ /apache2-default/
        </Directory>
----------------------------------

Save the file.
Now restart your server:

----------------------------------
sudo /etc/init.d/apache2 restart
----------------------------------

Test it:

----------------------------------
sudo gedit /var/www/test.py
----------------------------------

insert these lines:

----------------------------------
def index(req):
  return "Test successful";
----------------------------------

and it should work
visit http://localhost/test.py and it should say "Test successful" in plain text

Django configuration
^^^^^^^^^^^^^^^^^^^^

----------------------------------
<Location "/phyloexplorer/">
    SetHandler python-program
    PythonHandler django.core.handlers.modpython
    SetEnv DJANGO_SETTINGS_MODULE taxomanie.settings
    PythonOption django.root /phyloexplorer
    PythonDebug On
    #PythonPath "['/path/to/custom/python/lib'] + sys.path"
</Location>
----------------------------------

Now restart your server:

----------------------------------
sudo /etc/init.d/apache2 restart
----------------------------------

visit http://localhost/phyloexplorer and enjoy

