<html>

<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<link rel="stylesheet" type="text/css" href="css">
<title> Taxonamie </title>

<body>
<div class="header" id="header">
<h1 align="center"> TAXOMANIE </h1>
<h3 align="center"> Your Collection </h3>
</div>

<%#
Navigation buttons beetween trees
#%>

<center>
<table border='0' cellpadding='2' cellspacing='5'>
<tr>
<td>

<%
if len(collection) > 1:
    if index > 0:
%>
        <%|%>
        <a href='check?index=<%$ index-1 %>'> Previous </a>
    <%|%>

    </td>
    <form>
    <td>
    <input type="text" size="1" value="<%$ index+1 %>" name="index"> </input>
    /<%$ len(collection) %>
    </td>
    </form>
    <td>

<%
    if index < len(collection)-1:
%>
        <%|%>
        <a href='check?index=<%$ index+1 %>'> Next </a>
<%|%>
</td>
</tr>
</table>
</center>
<hr />

<%
from phylogenictree import PhylogenicTree
tree = collection[index]
if tree:
    mytree = PhylogenicTree( tree, reference )
    tree = mytree.display( target = target, all_parents = allparents )
    tree += "<hr />"
%>

<%#
The sidebar
#%>

<div id="sidebar">
<b> Options </b>
<ul>
<li>
<%
if mytree.hasparents:
    if allparents:
%>
        <%|%>
<a href='check?index=<%$ index %>&allparents=0&target=<%$ target %>'>
Display only common parents </a>
<%
    else:
%>
        <%|%>
<a href='check?index=<%$ index %>&allparents=1&target=<%$ target %>'>
Display all parents </a>
<%|%>
</li>
<li>
<%
if target == "html":
%>
    <%|%>
<a href='check?index=<%$ index %>&allparents=<%$ allparents %>&target=text'>
Printable version
</a>
<%
else:
%>
    <%|%>
<a href='check?index=<%$ index %>&allparents=<%$ allparents %>&target=html'>
Html version
</a>
<%|%>

</li>
</ul>

<br />

<b>Menu</b>
<ul>
<li><a href="."> Test another collection </a></li>
</ul>
</div>

<%
if target == "html":
%>
    <%|%>
    <ul>
    <%$ tree %>
    </ul>
<%
else:
%>
    <%|%>
<pre>
<%$ tree %>
</pre>
<%|%>

</body> </html>

